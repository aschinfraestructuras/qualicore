# Sistema de Relat√≥rios PDF - M√≥dulo Normas

## üìã Vis√£o Geral

O sistema de relat√≥rios PDF para o m√≥dulo **Normas** foi implementado com funcionalidades avan√ßadas de sele√ß√£o de registos, filtros personaliz√°veis e gera√ß√£o de relat√≥rios profissionais. Este sistema permite aos utilizadores gerar relat√≥rios detalhados sobre normas t√©cnicas, incluindo estat√≠sticas, an√°lises comparativas e informa√ß√µes espec√≠ficas por norma.

## ‚ú® Funcionalidades Implementadas

### 1. **Tipos de Relat√≥rios Dispon√≠veis**

- ‚úÖ **Relat√≥rio Executivo**: Vis√£o geral com estat√≠sticas e m√©tricas principais
- ‚úÖ **Relat√≥rio Filtrado**: Relat√≥rios baseados em crit√©rios espec√≠ficos
- ‚úÖ **Relat√≥rio Comparativo**: An√°lises comparativas entre diferentes categorias
- ‚úÖ **Relat√≥rio Individual**: Ficha t√©cnica detalhada de uma norma espec√≠fica

### 2. **Sistema de Sele√ß√£o de Registos**

- ‚úÖ **Modo de Sele√ß√£o**: Permite selecionar normas espec√≠ficas para incluir no relat√≥rio
- ‚úÖ **Sele√ß√£o Individual**: Checkboxes para cada norma na tabela
- ‚úÖ **Sele√ß√£o em Massa**: Bot√µes "Todos" e "Limpar" para gest√£o r√°pida
- ‚úÖ **Contador de Sele√ß√£o**: Indica√ß√£o visual do n√∫mero de normas selecionadas

### 3. **Filtros Avan√ßados**

- ‚úÖ **Por Categoria**: Constru√ß√£o Civil, Ferrovi√°ria, Bet√£o Estrutural, etc.
- ‚úÖ **Por Status**: Ativa, Em Revis√£o, Obsoleta, etc.
- ‚úÖ **Por Organismo**: CEN, ISO, IPQ, ASTM, etc.
- ‚úÖ **Por Prioridade**: Cr√≠tica, Alta, M√©dia, Baixa
- ‚úÖ **Por Data**: Filtros por per√≠odo de publica√ß√£o

### 4. **Estat√≠sticas e KPIs**

- ‚úÖ **Total de Normas**: Contagem geral
- ‚úÖ **Normas Ativas**: Normas em vigor
- ‚úÖ **Em Revis√£o**: Normas em processo de atualiza√ß√£o
- ‚úÖ **Obsoletas**: Normas desatualizadas
- ‚úÖ **Prioridade Cr√≠tica**: Normas de m√°xima import√¢ncia
- ‚úÖ **Alta Prioridade**: Normas de alta import√¢ncia

### 5. **An√°lises por Categoria e Organismo**

- ‚úÖ **Distribui√ß√£o por Categoria**: An√°lise das normas por √°rea t√©cnica
- ‚úÖ **Distribui√ß√£o por Organismo**: An√°lise por organismo normativo
- ‚úÖ **Gr√°ficos Visuais**: Representa√ß√£o gr√°fica das distribui√ß√µes

## üöÄ Como Usar

### 1. **Aceder ao Sistema de Relat√≥rios**

1. Navegue para o m√≥dulo **Normas**
2. Clique no bot√£o verde **"Relat√≥rio"** no cabe√ßalho da p√°gina
3. O modal de relat√≥rios abrir√° automaticamente

### 2. **Sele√ß√£o de Normas para Relat√≥rio**

#### **Modo de Sele√ß√£o**
1. Clique no bot√£o **"Modo Sele√ß√£o"** para ativar a sele√ß√£o
2. Utilize os checkboxes na tabela para selecionar normas espec√≠ficas
3. Use os bot√µes **"Todos"** ou **"Limpar"** para gest√£o r√°pida
4. O contador mostra quantas normas est√£o selecionadas

#### **Sele√ß√£o Individual**
- Marque/desmarque checkboxes individuais
- A sele√ß√£o √© atualizada em tempo real
- O contador √© atualizado automaticamente

### 3. **Gera√ß√£o de Relat√≥rios**

#### **Relat√≥rio Executivo**
- Fornece uma vis√£o geral das normas
- Inclui estat√≠sticas gerais e distribui√ß√µes
- Ideal para apresenta√ß√µes de gest√£o

#### **Relat√≥rio Filtrado**
- Baseado nos filtros aplicados
- Inclui apenas as normas que correspondem aos crit√©rios
- Mostra os filtros aplicados no relat√≥rio

#### **Relat√≥rio Comparativo**
- An√°lise comparativa entre categorias
- Distribui√ß√£o por status e organismo
- Gr√°ficos comparativos

#### **Relat√≥rio Individual**
- Ficha t√©cnica detalhada de uma norma espec√≠fica
- Informa√ß√µes completas da norma
- Requisitos e m√©todos de ensaio

### 4. **Exporta√ß√£o e Impress√£o**

#### **Gerar PDF**
1. Clique no bot√£o **"PDF"** azul
2. O sistema gerar√° automaticamente o relat√≥rio
3. O ficheiro ser√° descarregado com o nome: `Relatorio_Normas_YYYY-MM-DD.pdf`

#### **Imprimir**
1. Clique no bot√£o **"Imprimir"** cinza
2. A janela de impress√£o do navegador abrir√°
3. Selecione **"Guardar como PDF"** como destino
4. Clique em **"Imprimir"**

## üìä Estrutura dos Relat√≥rios

### **Cabe√ßalho Profissional**
- Logo da empresa (se configurado)
- Nome da empresa e informa√ß√µes de contacto
- T√≠tulo do relat√≥rio e data de gera√ß√£o

### **Se√ß√£o de Estat√≠sticas**
- KPIs principais em cards coloridos
- M√©tricas de conformidade e status
- Indicadores de prioridade

### **An√°lises Comparativas**
- Distribui√ß√£o por categoria (top 5)
- Distribui√ß√£o por organismo (top 5)
- Gr√°ficos de barras visuais

### **Tabela Detalhada**
- C√≥digo da norma
- T√≠tulo completo
- Categoria e organismo
- Vers√£o e status
- Prioridade
- Datas de publica√ß√£o e entrada em vigor
- √öltima atualiza√ß√£o

### **Rodap√© Profissional**
- Informa√ß√µes da empresa
- N√∫mero de p√°gina
- Data e hora de gera√ß√£o

## üéØ Casos de Uso Pr√°ticos

### **1. Relat√≥rio para Gest√£o**
- **Tipo**: Executivo
- **Sele√ß√£o**: Todas as normas
- **Uso**: Apresenta√ß√£o √† dire√ß√£o com vis√£o geral

### **2. Relat√≥rio por Categoria**
- **Tipo**: Filtrado
- **Filtros**: Categoria = "FERROVIARIA"
- **Uso**: An√°lise espec√≠fica de normas ferrovi√°rias

### **3. Relat√≥rio de Normas Cr√≠ticas**
- **Tipo**: Filtrado
- **Filtros**: Prioridade = "CRITICA"
- **Uso**: Identifica√ß√£o de normas de m√°xima import√¢ncia

### **4. Relat√≥rio por Organismo**
- **Tipo**: Comparativo
- **Filtros**: Organismo = "CEN"
- **Uso**: An√°lise de normas europeias

### **5. Relat√≥rio Individual**
- **Tipo**: Individual
- **Sele√ß√£o**: Uma norma espec√≠fica
- **Uso**: Ficha t√©cnica completa para refer√™ncia

## üîß Configura√ß√£o e Personaliza√ß√£o

### **Configura√ß√£o da Empresa**
- Aceda √†s configura√ß√µes da empresa
- Configure nome, morada, telefone, email
- Carregue o logotipo da empresa
- As informa√ß√µes aparecer√£o no cabe√ßalho dos relat√≥rios

### **Personaliza√ß√£o de Colunas**
- O sistema permite mostrar/ocultar colunas espec√≠ficas
- Configura√ß√£o flex√≠vel para diferentes tipos de relat√≥rio
- Adapta√ß√£o √†s necessidades espec√≠ficas do utilizador

## üìà Vantagens do Sistema

### **1. Flexibilidade**
- M√∫ltiplos tipos de relat√≥rio
- Filtros personaliz√°veis
- Sele√ß√£o granular de registos

### **2. Profissionalismo**
- Layout profissional e moderno
- Cabe√ßalho e rodap√© personaliz√°veis
- Formata√ß√£o consistente

### **3. Efici√™ncia**
- Gera√ß√£o r√°pida de relat√≥rios
- Sele√ß√£o intuitiva de registos
- Exporta√ß√£o em m√∫ltiplos formatos

### **4. An√°lise Avan√ßada**
- Estat√≠sticas detalhadas
- An√°lises comparativas
- KPIs relevantes

## üõ†Ô∏è Ficheiros Implementados

### **Componentes React**
- `src/components/RelatorioNormasPremium.tsx` - Componente principal de relat√≥rios

### **Servi√ßos**
- `src/services/pdfService.ts` - M√©todos de gera√ß√£o de PDF
- `src/services/reportService.ts` - Templates HTML para relat√≥rios

### **P√°ginas**
- `src/pages/Normas.tsx` - Integra√ß√£o do sistema de relat√≥rios

### **Base de Dados**
- `SETUP_NORMAS_MOCK.sql` - Script para dados de teste

## üß™ Testes e Valida√ß√£o

### **Testes Realizados**
- ‚úÖ Gera√ß√£o de todos os tipos de relat√≥rio
- ‚úÖ Sistema de sele√ß√£o de registos
- ‚úÖ Filtros e crit√©rios de busca
- ‚úÖ Exporta√ß√£o em PDF
- ‚úÖ Impress√£o via navegador
- ‚úÖ Responsividade em diferentes dispositivos

### **Valida√ß√£o de Dados**
- ‚úÖ Verifica√ß√£o de estat√≠sticas corretas
- ‚úÖ Valida√ß√£o de filtros aplicados
- ‚úÖ Confirma√ß√£o de sele√ß√£o de registos
- ‚úÖ Teste de formata√ß√£o de datas

## üìã Checklist de Implementa√ß√£o

- ‚úÖ Componente de relat√≥rios criado
- ‚úÖ M√©todos PDF implementados
- ‚úÖ Templates HTML adicionados
- ‚úÖ Integra√ß√£o na p√°gina principal
- ‚úÖ Sistema de sele√ß√£o implementado
- ‚úÖ Filtros avan√ßados configurados
- ‚úÖ Estat√≠sticas e KPIs calculados
- ‚úÖ Dados mock inseridos
- ‚úÖ Testes de build realizados
- ‚úÖ Documenta√ß√£o completa

## üéâ Conclus√£o

O sistema de relat√≥rios PDF para o m√≥dulo **Normas** est√° totalmente funcional e oferece:

- **Flexibilidade total** na sele√ß√£o e filtragem de dados
- **Profissionalismo** na apresenta√ß√£o e formata√ß√£o
- **Efici√™ncia** na gera√ß√£o e exporta√ß√£o de relat√≥rios
- **An√°lise avan√ßada** com estat√≠sticas e compara√ß√µes

O sistema est√° pronto para uso em ambiente de produ√ß√£o e pode ser facilmente expandido com novas funcionalidades conforme necess√°rio.
